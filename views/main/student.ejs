<h1>Studentenübersicht</h1>

<script src="/javascript/changeStudent.js"></script>
<div class="students">
    <% students.forEach((st) => { %>
        <div class="student" id="student-<%= st.id %>">
            <!-- Anzeige der Studentendaten -->
            <span class="first-name"><%= st.first_name %></span>
            <span class="last-name"><%= st.last_name %></span>
            <span class="email"><%= st.email %></span>

            <!-- Button 1: "Bearbeiten" -->
            <button class="edit-btn" onclick="editStudent(<%= st.id %>)">Bearbeiten</button>

            <!-- Button 2: "Abbrechen", nur sichtbar, wenn "Bearbeiten" geklickt wurde -->
            <button class="cancel-btn" onclick="cancelEdit(<%= st.id %>)" style="display: none;">Abbrechen</button>

            <!-- Button 3: "Speichern", nur sichtbar, wenn "Bearbeiten" geklickt wurde -->
            <button class="save-btn" onclick="saveStudent(<%= st.id %>)" style="display: none;">Speichern</button>

            <!-- Unsichtbares Feld für ID, das mitgesendet werden soll -->
            <input type="hidden" class="student-id" value="<%= st.id %>">
        </div>
    <% }); %>
        <div id="error-message" style="display: none; color: red;"></div>

</div>

<h3>Neue Studenten Eintragen</h3>

<form action="/student" method="post">
    <div class="form-container-small">
        <label for = "fname" >Vorname</label>
        <input class="input-normal" type="text" name="fname" placeholder="Bitte Vorname eingeben...">

        <label for = "lname" >Nachname</label>
        <input class="input-normal" type="text" name="lname" placeholder="Bitte Nachname eingeben...">

        <label for = "email" >Email</label>
        <input class="input-normal" type="text" name="email" placeholder="Bitte email eingeben...">
    </div>
    <button style="gap: 10px;" type="submit" value="speichern">Student hinzufügen</button>
</form>
